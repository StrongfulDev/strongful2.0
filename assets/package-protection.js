(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();function d(){}function Q(t){return t()}function M(){return Object.create(null)}function C(t){t.forEach(Q)}function U(t){return typeof t=="function"}function A(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let x;function K(t,e){return x||(x=document.createElement("a")),x.href=e,t===x.href}function et(t){return Object.keys(t).length===0}function k(t,e){t.appendChild(e)}function g(t,e,n){t.insertBefore(e,n||null)}function m(t){t.parentNode&&t.parentNode.removeChild(t)}function y(t){return document.createElement(t)}function N(t){return document.createTextNode(t)}function T(){return N(" ")}function nt(){return N("")}function V(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function p(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function rt(t){return Array.from(t.childNodes)}function ot(t,e){e=""+e,t.data!==e&&(t.data=e)}let L;function P(t){L=t}const b=[],z=[];let w=[];const D=[],it=Promise.resolve();let j=!1;function ct(){j||(j=!0,it.then(W))}function S(t){w.push(t)}const O=new Set;let $=0;function W(){if($!==0)return;const t=L;do{try{for(;$<b.length;){const e=b[$];$++,P(e),st(e.$$)}}catch(e){throw b.length=0,$=0,e}for(P(null),b.length=0,$=0;z.length;)z.pop()();for(let e=0;e<w.length;e+=1){const n=w[e];O.has(n)||(O.add(n),n())}w.length=0}while(b.length);for(;D.length;)D.pop()();j=!1,O.clear(),P(t)}function st(t){if(t.fragment!==null){t.update(),C(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(S)}}function ut(t){const e=[],n=[];w.forEach(r=>t.indexOf(r)===-1?e.push(r):n.push(r)),n.forEach(r=>r()),w=e}const E=new Set;let h;function X(){h={r:0,c:[],p:h}}function Y(){h.r||C(h.c),h=h.p}function _(t,e){t&&t.i&&(E.delete(t),t.i(e))}function v(t,e,n,r){if(t&&t.o){if(E.has(t))return;E.add(t),h.c.push(()=>{E.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}function Z(t){t&&t.c()}function q(t,e,n,r){const{fragment:o,after_update:i}=t.$$;o&&o.m(e,n),r||S(()=>{const c=t.$$.on_mount.map(Q).filter(U);t.$$.on_destroy?t.$$.on_destroy.push(...c):C(c),t.$$.on_mount=[]}),i.forEach(S)}function I(t,e){const n=t.$$;n.fragment!==null&&(ut(n.after_update),C(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function lt(t,e){t.$$.dirty[0]===-1&&(b.push(t),ct(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function F(t,e,n,r,o,i,c,l=[-1]){const s=L;P(t);const u=t.$$={fragment:null,ctx:[],props:i,update:d,not_equal:o,bound:M(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(s?s.$$.context:[])),callbacks:M(),dirty:l,skip_bound:!1,root:e.target||s.$$.root};c&&c(u.root);let a=!1;if(u.ctx=n?n(t,e.props||{},(f,B,...H)=>{const J=H.length?H[0]:B;return u.ctx&&o(u.ctx[f],u.ctx[f]=J)&&(!u.skip_bound&&u.bound[f]&&u.bound[f](J),a&&lt(t,f)),B}):[],u.update(),a=!0,C(u.before_update),u.fragment=r?r(u.ctx):!1,e.target){if(e.hydrate){const f=rt(e.target);u.fragment&&u.fragment.l(f),f.forEach(m)}else u.fragment&&u.fragment.c();e.intro&&_(t.$$.fragment),q(t,e.target,e.anchor,e.customElement),W()}P(s)}class R{$destroy(){I(this,1),this.$destroy=d}$on(e,n){if(!U(n))return d;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const o=r.indexOf(n);o!==-1&&r.splice(o,1)}}$set(e){this.$$set&&!et(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function ft(t){let e,n=t[0].title+"",r,o,i,c,l;return{c(){e=y("div"),r=N(n),o=T(),i=y("img"),K(i.src,c=t[0].image)||p(i,"src",c),p(i,"alt",l=t[0].title),p(e,"class","product svelte-dm1ej4")},m(s,u){g(s,e,u),k(e,r),k(e,o),k(e,i)},p(s,[u]){u&1&&n!==(n=s[0].title+"")&&ot(r,n),u&1&&!K(i.src,c=s[0].image)&&p(i,"src",c),u&1&&l!==(l=s[0].title)&&p(i,"alt",l)},i:d,o:d,d(s){s&&m(e)}}}function at(t,e,n){let{product:r}=e;return t.$$set=o=>{"product"in o&&n(0,r=o.product)},[r]}class dt extends R{constructor(e){super(),F(this,e,at,ft,A,{product:0})}}function G(t){let e,n,r,o;const i=[_t,pt],c=[];function l(s,u){return s[1]?0:1}return n=l(t),r=c[n]=i[n](t),{c(){e=y("div"),r.c(),p(e,"class","card")},m(s,u){g(s,e,u),c[n].m(e,null),o=!0},p(s,u){let a=n;n=l(s),n===a?c[n].p(s,u):(X(),v(c[a],1,1,()=>{c[a]=null}),Y(),r=c[n],r?r.p(s,u):(r=c[n]=i[n](s),r.c()),_(r,1),r.m(e,null))},i(s){o||(_(r),o=!0)},o(s){v(r),o=!1},d(s){s&&m(e),c[n].d()}}}function pt(t){let e,n,r;return{c(){e=y("button"),e.textContent="Add"},m(o,i){g(o,e,i),n||(r=V(e,"click",t[3]),n=!0)},p:d,i:d,o:d,d(o){o&&m(e),n=!1,r()}}}function _t(t){let e,n,r,o,i,c;return r=new dt({props:{product:t[0]}}),{c(){e=y("button"),e.textContent="Remove",n=T(),Z(r.$$.fragment)},m(l,s){g(l,e,s),g(l,n,s),q(r,l,s),o=!0,i||(c=V(e,"click",t[4]),i=!0)},p(l,s){const u={};s&1&&(u.product=l[0]),r.$set(u)},i(l){o||(_(r.$$.fragment,l),o=!0)},o(l){v(r.$$.fragment,l),o=!1},d(l){l&&m(e),l&&m(n),I(r,l),i=!1,c()}}}function mt(t){let e,n,r=t[2]&&G(t);return{c(){r&&r.c(),e=nt()},m(o,i){r&&r.m(o,i),g(o,e,i),n=!0},p(o,[i]){o[2]?r?(r.p(o,i),i&4&&_(r,1)):(r=G(o),r.c(),_(r,1),r.m(e.parentNode,e)):r&&(X(),v(r,1,1,()=>{r=null}),Y())},i(o){n||(_(r),n=!0)},o(o){v(r),n=!1},d(o){r&&r.d(o),o&&m(e)}}}let tt=41547480268940;async function ht(){const t=await fetch("/cart.json");if(t.status===200)return t.json();throw new Error(`Failed to get request, Shopify returned ${t.status} ${t.statusText}`)}function gt(t){return t.items.find(e=>e.id===tt)}function yt(t,e,n){let r=null,o=null,i=!1,c=!1;const l=async()=>{const f=await(await fetch("/cart/add",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({items:[{id:tt,quantity:1}]})})).json();f&&(r=f,n(1,i=!!o),window.publish("PackageProtection/addToCard",{product:o,cart:r}))},s=async()=>{sessionStorage.setItem("PackageProtection/HasRemoved",!0);const f=await(await fetch("/cart/change",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({id:o.key,quantity:0})})).json();(!f.errors||f.errors.length===0)&&(n(1,i=!1),window.publish("PackageProtection/removeFromCart",{product:o}))};return(async()=>{r=await ht(),n(0,o=gt(r)),n(1,i=!!o);const a=sessionStorage.getItem("PackageProtection/HasRemoved");o||a||await l(),setTimeout(()=>{n(2,c=!0)},1e3)})(),[o,i,c,l,s]}class $t extends R{constructor(e){super(),F(this,e,yt,mt,A,{})}}function bt(t){let e,n,r,o,i;return n=new $t({}),{c(){e=y("div"),Z(n.$$.fragment),r=T(),o=y("p"),o.textContent="Click for shipping protection",p(o,"class","description svelte-1kue4g"),p(e,"class","package-protection-root")},m(c,l){g(c,e,l),q(n,e,null),k(e,r),k(e,o),i=!0},p:d,i(c){i||(_(n.$$.fragment,c),i=!0)},o(c){v(n.$$.fragment,c),i=!1},d(c){c&&m(e),I(n)}}}class wt extends R{constructor(e){super(),F(this,e,null,bt,A,{})}}new wt({target:document.getElementById("package-protection")});
