{% comment %}
  Renders a tab that expands on click
  Accepts:
  - product: {Object} product object.
  - block: {Object} block object.

  Usage:
  {% render 'collapsible-tab',
    product: product,
    block: block,
  %}
{% endcomment %}
{%- liquid
    if block.settings.product_content == "description"
        assign additional_content = product.content
    endif
%}
<div class="product__accordion accordion quick-add-hidden" {{ block.shopify_attributes }}>
    <details id="Details-{{ block.id }}-{{ section.id }}">
        <summary>
            <div class="summary__title">
                {% render 'icon-accordion', icon: block.settings.icon %}
                <h2 class="h4 accordion__title">
                    {{ block.settings.heading | default: block.settings.page.title }}
                </h2>
            </div>
            {% render 'icon-caret' %}
        </summary>
        <div class="accordion__content rte"
             id="ProductAccordion-{{ block.id }}-{{ section.id }}">
            {{ block.settings.content }}
            {{ additional_content }}
            {{ block.settings.page.content }}
        </div>
    </details>
</div>